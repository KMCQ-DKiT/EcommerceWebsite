{"ast":null,"code":"var _jsxFileName = \"E:\\\\paypal\\\\paypal\\\\client\\\\src\\\\components\\\\CheckoutBasket.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { ACCESS_LEVEL_ADMIN, ACCESS_LEVEL_GUEST, SERVER_HOST } from \"../config/global_constants\";\nimport jwt from \"jsonwebtoken\";\nimport { render } from \"express\";\nexport default class ShoppingCart extends Component {\n  componentDidMount() {\n    console.log(\"Bag\");\n    const token2 = jwt.decode(localStorage.token, {\n      algorithim: 'HS256'\n    });\n    console.log(token2.email);\n    axios.get(\"\".concat(SERVER_HOST, \"/users/\").concat(token2.email)).then(res => {\n      if (res.data) {\n        console.log(res.data.id);\n      } else {\n        console.log(\"This is Gay\");\n      }\n\n      if (localStorage.accessLevel > ACCESS_LEVEL_GUEST) {\n        axios.get(\"\".concat(SERVER_HOST, \"/users/\").concat(token2.id), {\n          headers: {\n            \"authorisation\": localStorage.token\n          }\n        }).then(res => {\n          console.log(res.data.id);\n\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } else {\n              console.log(res.data);\n\n              if (res.data.cart != null) {\n                this.setState({\n                  cart: res.data.cart\n                });\n              }\n            }\n          } else {\n            console.log(\"User Data Not Returned\");\n          }\n        });\n      }\n    });\n    render();\n    {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Basket\"));\n    }\n  }\n\n}","map":{"version":3,"sources":["E:\\paypal\\paypal\\client\\src\\components\\CheckoutBasket.js"],"names":["React","Component","axios","ACCESS_LEVEL_ADMIN","ACCESS_LEVEL_GUEST","SERVER_HOST","jwt","render","ShoppingCart","componentDidMount","console","log","token2","decode","localStorage","token","algorithim","email","get","then","res","data","id","accessLevel","headers","errorMessage","cart","setState"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,kBAAR,EAA4BC,kBAA5B,EAAgDC,WAAhD,QAAkE,4BAAlE;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAAQC,MAAR,QAAqB,SAArB;AAIA,eAAe,MAAMC,YAAN,SAA2BP,SAA3B,CACf;AAIIQ,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AAEA,UAAMC,MAAM,GAAGN,GAAG,CAACO,MAAJ,CAAWC,YAAY,CAACC,KAAxB,EAA8B;AAACC,MAAAA,UAAU,EAAC;AAAZ,KAA9B,CAAf;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACK,KAAnB;AACAf,IAAAA,KAAK,CAACgB,GAAN,WAAab,WAAb,oBAAkCO,MAAM,CAACK,KAAzC,GACKE,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,IAAR,EAAc;AACVX,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,IAAJ,CAASC,EAArB;AACH,OAFD,MAGI;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH;;AACT,UAAIG,YAAY,CAACS,WAAb,GAAyBnB,kBAA7B,EAAgD;AAE5CF,QAAAA,KAAK,CAACgB,GAAN,WAAab,WAAb,oBAAkCO,MAAM,CAACU,EAAzC,GAA+C;AAACE,UAAAA,OAAO,EAAC;AAAC,6BAAiBV,YAAY,CAACC;AAA/B;AAAT,SAA/C,EACKI,IADL,CACUC,GAAG,IAAI;AACTV,UAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,IAAJ,CAASC,EAArB;;AACA,cAAIF,GAAG,CAACC,IAAR,EAAa;AACT,gBAAID,GAAG,CAACC,IAAJ,CAASI,YAAb,EAA0B;AACtBf,cAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,IAAJ,CAASI,YAArB;AACH,aAFD,MAGI;AACAf,cAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,IAAhB;;AACA,kBAAID,GAAG,CAACC,IAAJ,CAASK,IAAT,IAAiB,IAArB,EAA0B;AACtB,qBAAKC,QAAL,CAAc;AACVD,kBAAAA,IAAI,EAACN,GAAG,CAACC,IAAJ,CAASK;AADJ,iBAAd;AAGH;AACJ;AACJ,WAZD,MAYK;AACDhB,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH;AACJ,SAlBL;AAmBH;AACJ,KA9BG;AAgCJJ,IAAAA,MAAM;AACN;AAEI,aACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ;AAOH;AACJ;;AApDD","sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from \"axios\"\r\nimport {ACCESS_LEVEL_ADMIN, ACCESS_LEVEL_GUEST, SERVER_HOST} from \"../config/global_constants\"\r\nimport jwt from \"jsonwebtoken\";\r\nimport {render} from \"express\";\r\n\r\n\r\n\r\nexport default class ShoppingCart extends Component\r\n{\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"Bag\")\r\n\r\n        const token2 = jwt.decode(localStorage.token,{algorithim:'HS256'})\r\n        console.log(token2.email)\r\n        axios.get(`${SERVER_HOST}/users/${token2.email}`)\r\n            .then(res => {\r\n                if (res.data) {\r\n                    console.log(res.data.id)\r\n                }\r\n                else{\r\n                    console.log(\"This is Gay\")\r\n                }\r\n        if (localStorage.accessLevel>ACCESS_LEVEL_GUEST){\r\n\r\n            axios.get(`${SERVER_HOST}/users/${token2.id}`, {headers:{\"authorisation\": localStorage.token}})\r\n                .then(res => {\r\n                    console.log(res.data.id)\r\n                    if (res.data){\r\n                        if (res.data.errorMessage){\r\n                            console.log(res.data.errorMessage)\r\n                        }\r\n                        else{\r\n                            console.log(res.data)\r\n                            if (res.data.cart != null){\r\n                                this.setState({\r\n                                    cart:res.data.cart\r\n                                })\r\n                            }\r\n                        }\r\n                    }else{\r\n                        console.log(\"User Data Not Returned\")\r\n                    }\r\n                })\r\n        }\r\n    })\r\n\r\n    render()\r\n    {\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h1>Basket</h1>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}}"]},"metadata":{},"sourceType":"module"}